---
layout: post
title:  "Day14 DOM"
date:   2017-06-13
categories: 《JavaScript高级程序设计》笔记
spend: 3h
excerpt: ""
---
#### 一、DOM
##### 1.document
* `document.URL`  返回当前的url
* `document.domain`  返回当前的域名
* `document.referrer`  返回当前页面的来源页url，没有则返回null

##### 2.为什么说DOM操作是"昂贵"的?
原来，nodeList对象保存的节点，它并不是一个已经加载好了的DOM结构快照，它是动态的，会随着DOM结构的变化而变化。因此，每次访问nodeList对象，都会运行一次查询。

#### 二、DOM拓展
##### 1.classList属性
操作类名时可以使用(IE10及其它现代浏览器支持)
* `document.classList.add(value)`  将给定字符串添加到列表中
* `document.classList.contains(value)`  判断给定字符串是否处于列表中，有则返回true
* `document.classList.remove(value)`  从列表中删除给定字符串
* `document.classList.toggle(value)`  如果列表中存在值，删除;如果没有，就添加  

##### 2.焦点管理
* `document.activeElement`  返回DOM中当前获取了焦点的元素  
* `document.hasFocus`  检测文档是否获得了焦点

##### 3.插入标记
* `innerHTML`写入`<script>`的话不会执行
* 在插入大量HTML标记是，使用`innerHTML`比手动创建节点相率高得多，因为在设置`innerHTML`时，就会创建一个HTML解析器，这个解析器是在浏览器级别的代码上运行的，比执行JavaScript快得多。

##### 4.scrollIntoView
通过滚动条滚动，让当前元素出现在视图中。