---
layout: post
title:  "Day6 追寻js的本质、历史、局限性 "
date:   2017-06-05
categories: 《JavaScript高级程序设计》笔记
spend: 3h
excerpt: ""
---
#### 一、JavaScript简史  
在Web刚兴起的时候，网速普遍都是28.8kbit/s，所以出现这么一个场景，“用户填写完一个表单，点击提交按钮，30秒过后服务器返回消息说有一个必填字段没有填写”。  

为了解决在客户端实现简单验证的问题，Netscape公司的Brendan Eich在1995年开发了出了LiveScript，发布前夕，为了搭上媒体炒热Java顺风车，临时改名为JavaScript。  

由于JavaScript发布后获得了巨大的成功，其它浏览器开发商也都做出了能在自己浏览器上运行的JavaScript版本，当时还没有标准规定JavaScript的语法和特性，所以在1997年的时候，出台了一个叫做ECMAScript的新脚本语言的标准。

#### 二、JavaScript的实现
JavaScript由以下三部分组成。
##### 1.ECMAScript
ECMAScript和Web浏览器没有任何依赖。它只是定义了一些基础，在此基础之上可以构建完善的脚本语言。常见的Web浏览器只是实现ECMAScript的宿主环境之一，类似的还有Node和Adobe flash。宿主环境不仅提供了基本的ECMAScript实现，还会提供该语言的拓展，如浏览器的DOM，Node的I/O。  
`ps:按照标准实现宿主环境这种形式，让我想起了《黑客与画家》里提及的Lisp语言，约翰·麦卡锡一开始并不是想把Lisp设计成编程语言，是他的学生拉塞尔实现的Lisp解释器。但Lisp包含一些思想今天我们早已习以为常，比如条件结构(if-then-else)、递归、垃圾回收机制，那是1958年提出的呀我的老爷`  
ECMAScript的重要版本:  
* `ECMAScript 3: 新增正则表达式、try-catch异常处理`
* `ECMAScript 4: 改动太大，被毙掉(居然提出强类型变量)`
* `ECMAScript 5: 新增JSON对象、严格模式`  

IE的兼容虽然备受诟病，但却是第一个实现ECMAScript5的主流浏览器...  
##### 2.DOM(文档对象模型)
DOM是针对XML经过拓展后用于HTML应用程序的编程接口。DOM使得整个HTML页面中的每个组成部分都是某种类型的节点，借助DOM提供的API，开发人员可以删除、添加、修改这些节点(虽然现在的开发模式已经不是直接操作DOM了，不过还是怀念那种直来直去的感觉，说爱你就跟我走)。  

扯皮的是，起初Netscope和微软对DOM实现在各自浏览器上的情况又是互不兼容，所以w3c就跳出来规划了一个DOM标准。

##### 3.BOM(浏览器对象模型)
所有对于浏览器JavaScript的拓展都可以算作是BOM的一部分，为什么这么笼统?因为在HTML5之前依然没有一个BOM的标准被提出来，导致很多浏览器都有自己的实现。HTMl5致力于把很多BOM功能纳入规范，这个我们后续再说。

#### 三、小结
作为一种专为网页交互而设计的脚本语言，JavaScript由以下三个部分组成:
* `ECMAScript`
* `DOM(文档对象模型)`
* `BOM(文浏览器对象模型)`

这三者在目前的五个主流浏览器(IE、Chrome、Firefox、Safari和Opera)中得到不同程度的支持，`ECMAScript3`基本支持，`ECMAScript5`还有部分未支持;对DOM结构彼此相差还是很大;BOM尽管在各个浏览器都实现了某些众所周知的功能，如window对象、navigator对象，其他特性还是会因浏览器各异。